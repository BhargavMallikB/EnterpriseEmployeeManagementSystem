<div class="accordion">
  <div *ngFor="let item of items; let i = index" class="accordion-panel">
    <div class="accordion-header" [ngClass]="'icon-' + iconPosition" (click)="togglePanel(i)">
      <span class="accordion-arrow" *ngIf="iconPosition === 'left'">{{ isOpen(i) ? '▼' : '▶' }}</span>
      <span class="accordion-title">{{ item.title }}</span>
      <span class="accordion-arrow" *ngIf="iconPosition === 'right'">{{ isOpen(i) ? '▼' : '▶' }}</span>
    </div>
    <div class="accordion-content" *ngIf="isOpen(i)">
      <ng-container [ngSwitch]="typeof item.content">
        <div *ngSwitchCase="'string'">{{ item.content }}</div>
        <div *ngSwitchCase="'object'">
          <div *ngFor="let key of getObjectKeys(item.content)" class="content-item">
            <strong>{{ key }}:</strong> {{ item.content[key] }}
          </div>
        </div>
        <div *ngSwitchDefault>
          <ng-container [ngTemplateOutlet]="item.content"></ng-container>
        </div>
      </ng-container>
    </div>
  </div>
</div>
